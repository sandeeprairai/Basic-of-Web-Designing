<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Exception Handling with promise</title>
</head>
<body>
	<script type="text/javascript">
		// function getUserById(id){
		// 	if(typeof id!=='number'  || id<0){
		// 		throw new Error("Invalid Id number you are entered");
		// 	}
		// 	return new Promise((resolve,reject) => {
		// 		resolve({
		// 			id:id,
		// 			usename: 'admin'
		// 		});
		// 	});
		// }
		// getUserById('fdgdfg')
		// .then(user => console.log(user))
		// .catch( error => console.log(error));

		let userAuthorized = true;// false for practice
		function  getUserById(id){

			return new Promise((resolve,reject) => {
				if(!userAuthorized){
					throw new Error("User is not Authorized");

				}
				resolve({
					id:id,
					username:'sandeep'
				});

			});
		}

		try{
			getUserById(7).then( user => console.log(user.username)).catch(error => console.log('Caught by .catch '+ error))

		}catch(error){
			console.log("Caught by try/catch {$error}");

		}

	</script>

</body>
</html>